<div class="well">

  <form
    name="resForm"
    class="reservation-form"
    novalidate
    ng-submit="submitForm()"
    ng-reset="resetForm()"
  >

    <legend>
      <img src="images/logo.png" width="24" /> {{ config.siteName }} {{ legend }}
      <div class="validation-error small" ng-show="(resForm.submitted && resForm.$invalid)">Please fill in all required fields...</div>
    </legend>

    <div class="validation-success" ng-show="(resForm.submitted && resForm.$valid)">
      <span class="glyphicon glyphicon-thumbs-up"></span>
      <span ng-bind-html="thanks"></span>
    </div>
  
    <span ng-show="(!resForm.submitted || resForm.$invalid)">

      <div class="row">
        <div class="col-xs-10">
          <div class="input-group">
            <span class="input-group-addon"><span class="glyphicon glyphicon-user" title="{{ fields.namesurname.title }}"></span></span>
            <input
              name="namesurname"
              id="namesurname"
              type="text"
              class="form-control"
              placeholder="{{ fields.namesurname.title }}"
              ng-model="name"
              ng-minlength="{{ fields.namesurname.minlen }}"
              ng-maxlength="{{ fields.namesurname.maxlen }}"
              ng-focus
              ng-required="true"
            >
          </div>
        </div>
        <div class="col-xs-1">
          <span ng-show="fields.namesurname.required" title="This field is required">*</span>
        </div>
        <div class="col-xs-12">
          <span class="error-container" ng-show="resForm.namesurname.$dirty && resForm.namesurname.$invalid && !resForm.namesurname.$focused || (resForm.submitted && resForm.namesurname.$invalid)">
            <small class="validation-error" ng-show="resForm.namesurname.$error.required">Please insert your name and surname</small>
            <small class="validation-error" ng-show="resForm.namesurname.$error.minlength">Name is required to be at least {{ fields.namesurname.minlen }} characters</small>
            <small class="validation-error" ng-show="resForm.namesurname.$error.maxlength">Name cannot be longer than {{ fields.namesurname.maxlen }} characters</small>
          </span>
        </div>
      </div>
  
      <div class="row">
        <div class="col-xs-10">
          <div class="input-group">
            <span class="input-group-addon"><span class="glyphicon glyphicon-user" style="margin:-3px;"></span><span class="glyphicon glyphicon-user" style="margin:-4px;" title="{{ fields.howmany.title }}" ></span></span>
            <input
              name="howmany"
              type="number"
              class="form-control"
              placeholder="{{ fields.howmany.title }}"
              ng-model="howmany"
              min="{{ fields.howmany.min }}"
              max="{{ fields.howmany.max }}"
              ng-focus
              ng-required="true"
            />
          </div>
        </div>
        <div class="col-xs-1">
          <span ng-show="fields.howmany.required" title="This field is required">*</span>
        </div>
        <div class="col-xs-12">
          <span class="error-container" ng-show="resForm.howmany.$dirty && resForm.howmany.$invalid && !resForm.howmany.$focused || (resForm.submitted && resForm.howmany.$invalid)">
            <small class="validation-error" ng-show="resForm.howmany.$error.min">Minimum number of persons is 1</small>
            <small class="validation-error" ng-show="resForm.howmany.$error.max">Sorry, maximum number of persons is 2</small>
            <small class="validation-error" ng-show="resForm.howmany.$error.number || resForm.howmany.$error.invalid">Please input a valid number of persons</small>
            <small class="validation-error" ng-show="resForm.howmany.$error.required">Please input the number of persons you are</small>
          </span>
        </div>
      </div>
  
      <div class="row" ng-controller="DatepickerCtrl">
        <div class="col-xs-10">
          <div class="input-group">
            <span class="input-group-addon"><span class="glyphicon glyphicon-calendar" title="{{ fields.when.title }}"></span></span>
            <input
              name="when"
              type="text"
              class="form-control"
              datepicker-popup="{{ format }}"
              placeholder="{{ fields.when.title }}"
              ng-model="when"
              min="minDate"
              max="maxDate"
              date-disabled="disabled(date, mode)"
              ng-focus
              ng-required="true"
              style="-webkit-border-top-right-radius: 4px; -webkit-border-bottom-right-radius: 4px; -moz-border-top-right-radius: 4px; -moz-border-bottom-right-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px;"
            />
          </div>
        </div>
        <div class="col-xs-1">
          <span ng-show="fields.when.required" title="This field is required">*</span>
        </div>
        <div class="col-xs-12">
          <span class="error-container" ng-show="resForm.when.$dirty && resForm.when.$invalid && !resForm.when.$focused || (resForm.submitted && resForm.when.$invalid)">
            <small class="validation-error" ng-show="resForm.when.$error.required">Please choose the date of your arrival</small>
          </span>
        </div>
      </div>
  
      <div class="row">
        <div class="col-xs-10">
          <div class="input-group">
            <span class="input-group-addon"><span class="glyphicon glyphicon-repeat" title="{{ fields.duration.title }}"></span></span>
            <input
              name="duration"
              type="number"
              class="form-control"
              placeholder="{{ fields.duration.title }}"
              ng-model="duration"
              min="{{ fields.duration.min }}"
              ng-focus
              ng-required="true"
            />
          </div>
        </div>
        <div class="col-xs-1">
          <span ng-show="fields.duration.required" title="This field is required">*</span>
        </div>
        <div class="col-xs-12">
          <span class="error-container" ng-show="resForm.duration.$dirty && resForm.duration.$invalid && !resForm.duration.$focused || (resForm.submitted && resForm.duration.$invalid)">
            <small class="validation-error" ng-show="resForm.duration.$error.min">Sorry, we require a minimum stay of two nights</small>
            <small class="validation-error" ng-show="resForm.duration.$error.number || resForm.duration.$error.invalid">Please input a valid number of nights</small>
            <small class="validation-error" ng-show="resForm.duration.$error.required">Please choose the duration of your stay</small>
          </span>
        </div>
      </div>
  
      <div class="row">
        <div class="col-xs-10">
          <div class="input-group">
            <span class="input-group-addon"><span class="glyphicon glyphicon-time" title="{{ fields.time.title }}"></span></span>
            <select
              name="time"
              id="time"
              class="form-control"
              ng-model="time"
              ng-required="true"
              style="opacity:0.7; filter:alpha(opacity=70);"
            >
              <option value="" selected disabled>{{ fields.time.title }}</option>
              <option ng-repeat="n in fields.time.times">{{ n }}</option>
            </select>
          </div>
        </div>
        <div class="col-xs-1">
          <span ng-show="fields.time.required" title="This field is required">*</span>
        </div>
        <div class="col-xs-12">
          <span class="error-container" ng-show="resForm.submitted && resForm.time.$viewValue == undefined">
            <small class="validation-error" ng-show="resForm.time.$viewValue == undefined">Please select the time of your arrival</small>
          </span>
        </div>
      </div>
  
      <div class="row">
        <div class="col-xs-10">
          <div class="input-group">
            <span class="input-group-addon" style="opacity:0.6; filter:alpha(opacity=60);"><img src="images/reservation/glyphicons_005_car.png" width="15" title="{{ fields.car.title }}"></span>
            <select
              name="car"
              id="car"
              class="form-control"
              ng-model="car"
              ng-required="true"
              style="opacity:0.7; filter:alpha(opacity=70);"
            >
              <option value="" selected disabled>{{ fields.car.title }}</option>
              <option value="1">We need parking</option>
              <option value="0">We don't need parking</option>
            </select>
          </div>
        </div>
        <div class="col-xs-1">
          <span ng-show="fields.car.required" title="This field is required">*</span>
        </div>
        <div class="col-xs-12">
          <span class="error-container" ng-show="resForm.submitted && resForm.car.$viewValue == undefined">
            <small class="validation-error" ng-show="resForm.car.$viewValue == undefined">Please select if you need parking or not</small>
          </span>
        </div>
      </div>
  
      <div class="row">
        <div class="col-xs-10">
          <div class="input-group">
            <span class="input-group-addon"><span class="glyphicon glyphicon-envelope" title="{{ fields.email.title }}"></span></span>
            <input
              name="email"
              type="email"
              class="form-control"
              placeholder="{{ fields.email.title }}"
              ng-model="email"
              ng-focus
              ng-required="true"
            />
          </div>
        </div>
        <div class="col-xs-1">
          <span ng-show="fields.email.required" title="This field is required">*</span>
        </div>
        <div class="col-xs-12">
          <span class="error-container" ng-show="resForm.email.$dirty && resForm.email.$invalid && !resForm.email.$focused || (resForm.submitted && resForm.email.$invalid)">
            <small class="validation-error" n_g-show="resForm.email.$error.email">Please input a valid email address</small>
          </span>
        </div>
      </div>
  
      <div class="row" ng-controller="PhoneCtrl">
        <div class="col-xs-10">
          <div class="input-group">
            <span class="input-group-addon"><span class="glyphicon glyphicon-phone-alt" title="{{ fields.phone.title }}"></span></span>
            <input
              name="phone"
              type="tel"
              class="form-control"
              placeholder="{{ fields.phone.title }}"
              ng-model="reservation.phone"
              ng-pattern="phoneNumberPattern"
              ng-focus
              n_g-required="false"
              ng-required="requirePhone"
            />
          </div>
        </div>
        <div class="col-xs-1">
          <span ng-show="fields.phone.required" title="This field is required">*</span>
        </div>
        <div class="col-xs-12">
          <span class="error-container" ng-show="resForm.phone.$dirty && resForm.phone.$invalid && !resForm.phone.$focused || (resForm.submitted && resForm.phone.$invalid)">
            <small class="validation-error" ng-show="resForm.phone.$error.pattern">Please input a valid phone number</small>
          </span>
        </div>
      </div>
  
      <div class="row">
        <div class="col-xs-10">
          <div class="input-group">
            <span class="input-group-addon"><span class="glyphicon glyphicon-pencil" title="{{ fields.info.title }}"></span></span>
            <textarea
              name="info"
              class="form-control"
              placeholder="{{ fields.info.title }}"
            ></textarea>
          </div>
        </div>
        <div class="col-xs-1">
          <span ng-show="fields.info.required" title="This field is required">*</span>
        </div>
      </div>
  
      <div class="row last-row" s_tyle="margin-bottom: 0;">
        <div class="col-xs-12">
          <button id="submit" type="submit" n_g-disabled="resForm.$invalid" class="btn btn-primary">
            <span class="glyphicon glyphicon-ok white"></span>&nbsp;
            Confirm
          </button>
          <button type="reset" class="btn btn-default" ng-click="resetForm()">
            <span class="glyphicon glyphicon-remove black"></span>&nbsp;
            Reset
          </button>
        </div>
      </div>

    </span>

  </form>

  <paypal-button business="gliolivi@portovenere.biz" language-code="it_IT" currency-code="EUR" item-name="Reservation at B&B Gli Olivi in Portovenere - Check-in: 2 April 2015, Check-out: 4 April 2015" amount="90.00"></paypal-button>

</div>
